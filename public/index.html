<!DOCTYPE html>
<html>
<head>
	<title>lst</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="mobile-web-app-capable" content="yes">
	<link rel="shortcut icon" type="image/ico" href="http://lst-app.herokuapp.com/favicon.png?v=2"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<style type="text/css">
	* {
		box-sizing: border-box;
		font-family: Helvetica;
	}
	body,html {
		padding: 0;
		margin: 0;
		height: 100%;
	}
	.sheet {
		max-width: 960px;
		min-height: 100%;
		margin: 0 auto;
		border-radius: 4px;
		box-shadow: 0px 2px 12px #999;
		padding: 10px;
	}
	.new-item {
		width: 100%;
		padding: 10px;
		border-radius: 4px;
		background-color: #eee;
		font-size: 1.2em;
		margin: 10px 0px 20px;
		border: 1px solid #aaa;
	}
	.item {
		height: 70px;
		border: 1px solid #aaa;
		background-color: #fff;
		border-radius: 4px;
		margin-bottom: 20px;
		padding: 10px;
		cursor: pointer;
	}
	.done {
		border: 1px solid #aaa;
		width: 50px;
		text-align: center;
		border-radius: 4px;
		float: right;
		height: 50px;
		float: right;
	}
	.handle {
		background-color: #eee;
		width: 30px;
		text-align: center;
		border-radius: 4px;
		border: 1px solid #aaa;
		float: right;
		height: 50px;
		float: right;
		margin-left: 10px;
		color: #aaa;
		padding: 16px 0px;
	}
	.current {
		background-color: #eefaee;
	}
	.backlog {
		border: 1px solid #aaa;
		margin: 20px 0px 20px;
		border-radius: 4px;
		text-align: center;
		cursor: pointer;
		color: #aaa;
		padding: 7px;
	}
	.add-remove {
		float: left;
		color: #aaa;
		margin: 0px 10px 10px 0px;
	}
	.item-text {
		float: left;
	}
	.empty {
		text-align: center;
	}
	.loading {
		height: 10px;
		width: 100%;
		background-color: #afa;
		position: fixed;
		top: 0;
		left: 0;
		animation-duration: 0.5s;
		animation-name: loader;
		animation-iteration-count: infinite;
		-webkit-animation-duration: 0.5s;
		-webkit-animation-name: loader;
		-webkit-animation-iteration-count: infinite;
	}

	@keyframes loader {
	  from {
	    left: -100%;
	  }

	  to {
	    left: 100%;
	  }
	}

	@-webkit-keyframes loader {
	  from {
	    left: -100%;
	  }

	  to {
	    left: 100%;
	  }
	}

	</style>
</head>
</head>
<body ng-app="lst" ng-controller="MainCtrl">

	<div class="loading" ng-show="loading"></div>
	<div class="sheet">
		<input class="new-item" type="text" ng-model="newItemValue" ng-keypress="addItem($event)">
		
		<div ng-sortable="{handle:'.handle', animation:150, onUpdate:updateCurrent}">
			<div class="item" ng-class="{current:$first}" ng-repeat="item in items | orderBy:'-current' | filter:{backlogged: false}">
				<div class="add-remove" ng-click="moveFromListToBacklog()"><i class="fa fa-minus-square-o fa-1x"></i></div>
				<div class="item-text">{{item.value}}</div>
				<div class="handle"><i class="fa fa-bars"></i></div>
				<div class="done" ng-click="done()"></div>
			</div>
			<div class="empty" ng-show="numNotBacklogged === 0">Well done!</div>	
		</div>

		<div class="backlog" ng-click="backlogOpen = !backlogOpen"><i class="fa fa-ellipsis-h"></i></div>

		<div ng-show="backlogOpen">
			<div class="item" ng-repeat="item in items | filter:{backlogged: true}">
				<div class="add-remove" ng-click="moveFromBacklogToList()"><i class="fa fa-plus-square-o fa-1x"></i></div>
				<div class="item-text">{{item.value}}</div>
			</div>			
			<div class="empty" ng-show="numBacklogged === 0">Backlog is empty</div>	
		</div>

	</div>
	
	<script type="application/javascript" src="bower_components/angular/angular.min.js"></script>
	<script type="application/javascript" src="bower_components/Sortable/Sortable.min.js"></script>
	<script type="application/javascript" src="bower_components/Sortable/ng-sortable.js"></script>
	<script type="application/javascript" src="app.js"></script>
</body>
</html>